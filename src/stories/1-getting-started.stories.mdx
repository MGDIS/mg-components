import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="Get Started" />

# Get Started

## Install

### Vue.js

#### Adding the lib

Add MG Components to your project.

```bash
npm install -D @mgdis/mg-components
```

Now, depending if your project needs IE support or not, the import is different.

##### IE support

Import the lib by adding this code in the `main.js` file:

```js
import { applyPolyfills, defineCustomElements } from '@mgdis/mg-components/loader';

// Tells VueJS to ignore Elements from the design system
Vue.config.ignoredElements = [/mg-\w*/];
// Bind the custom elements to the window object
applyPolyfills().then(() => {
  defineCustomElements();
});
```

This import will provide all the needed polyfills for IE. The `mg-components` components are now globally available in you project, no need to import them individually in your Vue.js views or components.

##### without IE support

Add the following line in the client `jest.conf.js`:

```js
transformIgnorePatterns: ['/node_modules/@mgdis/(?!mg-components)'],
```

Import the needed components in your views/components like this:

```js
import '@mgdis/mg-components/dist/components/mg-input-text';
import '@mgdis/mg-components/dist/components/mg-input-date';
import '@mgdis/mg-components/dist/components/mg-input-textarea';
import '@mgdis/mg-components/dist/components/mg-button';
import '@mgdis/mg-components/dist/components/mg-message';
```

##### Import stylesheet

You need now to import the components style by adding the mg-components variables or directly the stylesheet who came with in the `App.vue` file :

```html
<style lang="scss">
  @import '~@mgdis/mg-components/dist/mg-components/variables.scss';
</style>
```

and/or

```html
<style>
  @import '~@mgdis/mg-components/dist/mg-components/mg-components.css';
</style>
```

#### Use the lib

##### Bind

To bind a non string value in a web component we have to use the Vue.js [`.prop`](https://vuejs.org/v2/api/#v-bind) modifier:

```html
<mg-input-text
  :readonly.prop="readOnly"
  :value="user.firstname" // Not mandatory when the value is a string
  :label="$t('firstname')"
  identifier="firstname"
></mg-input-text>
```

##### v-model

`v-model` can not be used in web components so we must set the value and the custum event `valueChange`:

```html
<mg-input-text :value="user.firstname" :label="$t('firstname')" @valueChange="user.firstname = $event.target.value"></mg-input-text>
```

#### Tests

During test custom elements are not registered, to prevent Jest to log errors you'll need to add the ignoredElements Vue.js config in your test file:

```js
import Vue from 'vue';
Vue.config.ignoredElements = [/mg-\w*/];
```

### Angular.js

#### Adding the lib

Add MG Components to your project.

```bash
npm install -D @mgdis/mg-components
```

Import the lib by adding this code in the `app.js` file:

```js
import { applyPolyfills, defineCustomElements } from '@mgdis/mg-components/loader';

// Bind the custom elements to the window object
applyPolyfills().then(() => {
  defineCustomElements();
});
```

The `mg-components` components are now globally available in you project, no need to import them individually in your components.

You need now to import the components style by adding the mg-components variables or directly the stylesheet who came with in the `app.js` file :

```js
import '@mgdis/mg-components/dist/mg-components/variables.scss';
import '@mgdis/mg-components/dist/mg-components/mg-components.css';
```

#### Use the lib

##### Bind

To bind a value in a web component we have to use the Angular.js [`ng-prop-`](https://docs.angularjs.org/api/ng/directive/ngProp) directive:

```html
<mg-input-text ng-prop-readonly="readOnly" ng-prop-value="user.firstname" label="Firstname" identifier="firstname"></mg-input-text>
```

##### ng-model

`ng-model` can not be used in web components so we must set the value and the use the custum event `valueChange` with the [`ng-on-`](https://docs.angularjs.org/api/ng/directive/ngOn) directive :

```html
<mg-input-text ng-prop-value="user.firstname" label="Firstname" ng-on-value_change="user.firstname = $event.target.value"></mg-input-text>
```
