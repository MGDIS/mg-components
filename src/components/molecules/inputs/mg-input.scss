/**
 * Common style for MGDIS inputs
 */

.mg-input {
  // Display
  display: flex;
  align-items: baseline;

  /**
   * Display label on top
   */
  &.is-label-on-top {
    flex-direction: column;
  }

  input[type='text'],
  input[type='date'],
  textarea,
  select {
    // Display
    padding: calc((var(--default-size) - var(--font-size-base) * var(--line-height)) / 2) 1rem;
    height: var(--default-size);
    box-sizing: border-box;
    // Decoration
    border-width: var(--mg-inputs-border-width);
    border-style: solid;
    border-color: var(--mg-inputs-color);
    border-radius: var(--mg-inputs-border-radius);
    // Font
    font-family: var(--font-family-body);
    color: hsl(var(--color-dark));
    font-size: var(--font-size-base);

    &::placeholder {
      // font-family: var(--font-family-body);
      color: var(--mg-inputs-color);
      font-style: italic;
    }
  }

  /**
   * Show hide nb char left ans help text on focus
   */
  mg-character-left,
  mg-help-text:not(.error) {
    display: none;
  }

  &.is-focused {
    mg-character-left,
    mg-help-text:not(.error) {
      display: initial;
    }
  }

  /**
   * Style when input is not valid
   * TODO USE THE RIGHT PRODUCT COLOR
   */
  &.is-not-valid {
    color: hsl(var(--color-danger));
    input {
      border: 0.1rem solid;
    }
  }

  /**
   * Workaround to baseline align label with textarea
   */
  &.mg-input--textarea {
    align-items: flex-start;
    mg-label {
      margin-top: calc((2 * var(--mg-inputs-border-width) + var(--default-size) - var(--font-size-base) * var(--line-height)) / 2);
    }
    textarea {
      height: auto;
    }
  }
}
